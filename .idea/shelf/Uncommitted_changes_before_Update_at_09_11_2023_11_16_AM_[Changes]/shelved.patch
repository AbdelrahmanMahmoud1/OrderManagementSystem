Index: notification-service/src/main/java/com/programming/notificationservice/NotificationService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.programming.notificationservice;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport com.programming.notificationservice.EmailNotificationService;\r\n\r\n@Service\r\npublic class NotificationService {\r\n    private final EmailNotificationService emailNotificationService;\r\n\r\n    public NotificationService(EmailNotificationService emailNotificationService) {\r\n        this.emailNotificationService = emailNotificationService;\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/notification-service/src/main/java/com/programming/notificationservice/NotificationService.java b/notification-service/src/main/java/com/programming/notificationservice/NotificationService.java
--- a/notification-service/src/main/java/com/programming/notificationservice/NotificationService.java	(revision 4bd290e964d271ddb521df397c53f31aa0391fbf)
+++ b/notification-service/src/main/java/com/programming/notificationservice/NotificationService.java	(date 1699363019256)
@@ -1,5 +1,6 @@
 package com.programming.notificationservice;
 
+import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Service;
 import com.programming.notificationservice.EmailNotificationService;
 
@@ -7,6 +8,7 @@
 public class NotificationService {
     private final EmailNotificationService emailNotificationService;
 
+    @Autowired
     public NotificationService(EmailNotificationService emailNotificationService) {
         this.emailNotificationService = emailNotificationService;
     }
Index: notification-service/src/main/java/com/programming/notificationservice/NotificationServiceApplication.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.programming.notificationservice;\r\n\r\nimport config.KafkaConsumerConfig;\r\nimport jakarta.mail.MessagingException;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\n\r\n@SpringBootApplication\r\n@Slf4j //message received inside the notification service\r\npublic class NotificationServiceApplication {\r\n\r\n\tprivate final EmailNotificationService emailNotificationService;\r\n\r\n\tpublic NotificationServiceApplication(EmailNotificationService emailNotificationService) {\r\n\t\tthis.emailNotificationService = emailNotificationService;\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(NotificationServiceApplication.class, args);\r\n\t}\r\n\t@KafkaListener(\r\n\t\t\ttopics = \"notificationTopic\",\r\n\t\t\tgroupId = \"notification-consumer-group\",\r\n\t\t\tcontainerFactory = \"kafkaListenerContainerFactory\"\r\n\t)\r\n\tpublic void HandleNotification(OrderPlacedEvent orderPlacedEvent) throws MessagingException {\r\n\r\n\t\tString orderNumber = orderPlacedEvent.getOrderNumber();\r\n\t\tString recipientEmail = \"recipient mail\";  // Set the recipient's email address\r\n\r\n\r\n\t\t// Send an email notification\r\n\t\temailNotificationService.sendOrderConfirmationEmail(recipientEmail, orderNumber);\r\n\t\ttry {\r\n\t\t\temailNotificationService.sendOrderConfirmationEmail(recipientEmail, orderNumber);\r\n\t\t\tlog.info(\"Received Notification for Order - {}\", orderNumber);\r\n\t\t} catch (MessagingException e) {\r\n\t\t\tlog.error(\"Error sending email notification: \" + e.getMessage());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t//\tlog.info(\"Received Notification for Order- {}\",orderPlacedEvent.getOrderNumber());\r\n\t\t//printing el message el gaya mn order\r\n\r\n\t@Bean\r\n\tpublic KafkaConsumerConfig kafkaConsumerConfig() {\r\n\t\treturn new KafkaConsumerConfig();\r\n\r\n\t}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/notification-service/src/main/java/com/programming/notificationservice/NotificationServiceApplication.java b/notification-service/src/main/java/com/programming/notificationservice/NotificationServiceApplication.java
--- a/notification-service/src/main/java/com/programming/notificationservice/NotificationServiceApplication.java	(revision 4bd290e964d271ddb521df397c53f31aa0391fbf)
+++ b/notification-service/src/main/java/com/programming/notificationservice/NotificationServiceApplication.java	(date 1699364781571)
@@ -24,7 +24,7 @@
 		SpringApplication.run(NotificationServiceApplication.class, args);
 	}
 	@KafkaListener(
-			topics = "notificationTopic",
+			topics = "notification",
 			groupId = "notification-consumer-group",
 			containerFactory = "kafkaListenerContainerFactory"
 	)
Index: notification-service/src/main/java/com/programming/notificationservice/EmailNotificationService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.programming.notificationservice;\r\nimport jakarta.mail.internet.MimeMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\n\r\nimport javax.mail.MessagingException;\r\n\r\npublic class EmailNotificationService {\r\n\r\n\r\n    private final JavaMailSender javaMailSender;\r\n\r\n    public EmailNotificationService(JavaMailSender javaMailSender) {\r\n        this.javaMailSender = javaMailSender;\r\n    }\r\n\r\n    public void sendOrderConfirmationEmail(String recipient, String orderNumber) throws jakarta.mail.MessagingException {\r\n        MimeMessage mimeMessage = javaMailSender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(mimeMessage);\r\n\r\n        // Set the recipient email address\r\n        helper.setTo(recipient);\r\n\r\n        // Set the subject of the email\r\n        helper.setSubject(\"Order Confirmation\");\r\n\r\n        // Set the content of the email\r\n        String emailContent = \"Your order with order number \" + orderNumber + \" has been confirmed.\";\r\n        helper.setText(emailContent, true); // 'true' indicates HTML content\r\n\r\n        // Send the email\r\n        javaMailSender.send(mimeMessage);\r\n\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/notification-service/src/main/java/com/programming/notificationservice/EmailNotificationService.java b/notification-service/src/main/java/com/programming/notificationservice/EmailNotificationService.java
--- a/notification-service/src/main/java/com/programming/notificationservice/EmailNotificationService.java	(revision 4bd290e964d271ddb521df397c53f31aa0391fbf)
+++ b/notification-service/src/main/java/com/programming/notificationservice/EmailNotificationService.java	(date 1699362950086)
@@ -2,9 +2,11 @@
 import jakarta.mail.internet.MimeMessage;
 import org.springframework.mail.javamail.JavaMailSender;
 import org.springframework.mail.javamail.MimeMessageHelper;
+import org.springframework.stereotype.Service;
 
 import javax.mail.MessagingException;
 
+@Service
 public class EmailNotificationService {
 
 
Index: notification-service/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\t<parent>\r\n\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n\t\t<version>3.1.5</version>\r\n\t\t<relativePath/> <!-- lookup parent from repository -->\r\n\t</parent>\r\n\t<groupId>com.programming</groupId>\r\n\t<artifactId>notification-service</artifactId>\r\n\t<version>0.0.1-SNAPSHOT</version>\r\n\t<name>notification-service</name>\r\n\t<description>Demo project for Spring Boot</description>\r\n\t<properties>\r\n\t\t<java.version>17</java.version>\r\n\t\t<spring-cloud.version>2022.0.4</spring-cloud.version>\r\n\t</properties>\r\n\t<dependencies>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-actuator</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>io.micrometer</groupId>\r\n\t\t\t<artifactId>micrometer-tracing-bridge-brave</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>com.sun.mail</groupId>\r\n\t\t\t<artifactId>javax.mail</artifactId>\r\n\t\t\t<version>1.6.2</version>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-mail</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>io.zipkin.reporter2</groupId>\r\n\t\t\t<artifactId>zipkin-reporter-brave</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.cloud</groupId>\r\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.cloud</groupId>\r\n\t\t\t<artifactId>spring-cloud-starter-sleuth</artifactId>\r\n\t\t\t<version>3.1.9</version>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.kafka</groupId>\r\n\t\t\t<artifactId>spring-kafka</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.projectlombok</groupId>\r\n\t\t\t<artifactId>lombok</artifactId>\r\n\t\t\t<optional>true</optional>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.kafka</groupId>\r\n\t\t\t<artifactId>spring-kafka-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t</dependencies>\r\n\t<dependencyManagement>\r\n\t\t<dependencies>\r\n\t\t\t<dependency>\r\n\t\t\t\t<groupId>org.springframework.cloud</groupId>\r\n\t\t\t\t<artifactId>spring-cloud-dependencies</artifactId>\r\n\t\t\t\t<version>${spring-cloud.version}</version>\r\n\t\t\t\t<type>pom</type>\r\n\t\t\t\t<scope>import</scope>\r\n\t\t\t</dependency>\r\n\t\t</dependencies>\r\n\t</dependencyManagement>\r\n\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t\t\t\t<configuration>\r\n\t\t\t\t\t<excludes>\r\n\t\t\t\t\t\t<exclude>\r\n\t\t\t\t\t\t\t<groupId>org.projectlombok</groupId>\r\n\t\t\t\t\t\t\t<artifactId>lombok</artifactId>\r\n\t\t\t\t\t\t</exclude>\r\n\t\t\t\t\t</excludes>\r\n\t\t\t\t</configuration>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n\r\n</project>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/notification-service/pom.xml b/notification-service/pom.xml
--- a/notification-service/pom.xml	(revision 4bd290e964d271ddb521df397c53f31aa0391fbf)
+++ b/notification-service/pom.xml	(date 1699363019263)
@@ -47,11 +47,11 @@
 			<groupId>org.springframework.cloud</groupId>
 			<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>
 		</dependency>
-		<dependency>
-			<groupId>org.springframework.cloud</groupId>
-			<artifactId>spring-cloud-starter-sleuth</artifactId>
-			<version>3.1.9</version>
-		</dependency>
+<!--		<dependency>-->
+<!--			<groupId>org.springframework.cloud</groupId>-->
+<!--			<artifactId>spring-cloud-starter-sleuth</artifactId>-->
+<!--			<version>3.1.9</version>-->
+<!--		</dependency>-->
 		<dependency>
 			<groupId>org.springframework.kafka</groupId>
 			<artifactId>spring-kafka</artifactId>
